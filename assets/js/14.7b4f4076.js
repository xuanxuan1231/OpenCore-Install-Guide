(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{318:function(e,a,t){e.exports=t.p+"assets/img/macrecovery.af5c41c1.png"},319:function(e,a,t){e.exports=t.p+"assets/img/download-done.05d30da0.png"},333:function(e,a,t){e.exports=t.p+"assets/img/unknown-13.2dca606f.png"},334:function(e,a,t){e.exports=t.p+"assets/img/unknown-9.d7a601da.png"},433:function(e,a,t){e.exports=t.p+"assets/img/unknown-5.0cee0d3a.png"},434:function(e,a,t){e.exports=t.p+"assets/img/unknown-6.c65407b2.png"},435:function(e,a,t){e.exports=t.p+"assets/img/unknown-8.21d65816.png"},436:function(e,a,t){e.exports=t.p+"assets/img/unknown-11.0cee0d3a.png"},437:function(e,a,t){e.exports=t.p+"assets/img/unknown-12.c65407b2.png"},438:function(e,a,t){e.exports=t.p+"assets/img/unknown-14.21d65816.png"},439:function(e,a,t){e.exports=t.p+"assets/img/unknown-15.4ec42b10.png"},440:function(e,a,t){e.exports=t.p+"assets/img/unknown-16.a34cfc74.png"},441:function(e,a,t){e.exports=t.p+"assets/img/unknown-18.4d8a1388.png"},442:function(e,a,t){e.exports=t.p+"assets/img/unknown-20.7e0e5028.png"},443:function(e,a,t){e.exports=t.p+"assets/img/unknown-21.04611101.png"},616:function(e,a,t){"use strict";t.r(a);var v=t(10),r=Object(v.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"在linux上创建安装程序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在linux上创建安装程序"}},[e._v("#")]),e._v(" 在Linux上创建安装程序")]),e._v(" "),a("p",[e._v("虽然你不需要重新安装macOS来使用OpenCore，但有些用户更喜欢在启动管理器升级时使用新的版本。")]),e._v(" "),a("p",[e._v("首先，您需要以下内容:")]),e._v(" "),a("ul",[a("li",[e._v("4GB USB")]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/acidanthera/OpenCorePkg/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("macrecovery.py"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"下载macos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载macos"}},[e._v("#")]),e._v(" 下载macOS")]),e._v(" "),a("p",[e._v("现在开始，首先进入"),a("a",{attrs:{href:"https://github.com/acidanthera/OpenCorePkg/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("macrecovery的文件夹"),a("OutboundLink")],1),e._v("，并运行以下命令之一:")]),e._v(" "),a("p",[a("img",{attrs:{src:t(318),alt:""}})]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 调整下面的命令到正确的文件夹")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" ~/Downloads/OpenCore-0/Utilities/macrecovery/\n")])])]),a("p",[e._v("接下来，根据你想要启动的操作系统运行以下命令之一：")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Lion (10.7):")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-2E6FAB96566FE58C "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000F25Y00 download\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-C3EC7CD22292981F "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000F0HM00 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Mountain Lion (10.8):")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-7DF2A3B5E5D671ED "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000F65100 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Mavericks (10.9):")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-F60DEB81FF30ACF6 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000FNN100 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Yosemite (10.10):")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-E43C1C25D4880AD6 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000GDVW00 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# El Capitan (10.11):")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-FFE5EF870D7BA81A "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000GQRX00 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Sierra (10.12):")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-77F17D7DA9285301 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000J0DX00 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# High Sierra (10.13)")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-7BA5B2D9E42DDD94 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000J80300 download\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-BE088AF8C5EB4FA2 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000J80300 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Mojave (10.14)")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-7BA5B2DFE22DDD8C "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000KXPG00 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Catalina (10.15)")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-00BE6ED71E35EB86 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000000000 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Big Sur (11)")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-42FD25EABCABB274 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000000000 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Monterey (12)")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-FFE5EF870D7BA81A "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000000000 download\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Latest version")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ie. Ventura (13)")]),e._v("\npython3 ./macrecovery.py "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-b")]),e._v(" Mac-4B682C642B45593E "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-m")]),e._v(" 00000000000000000 download\n")])])]),a("p",[e._v("从这里开始，在终端中运行这些命令之一，一旦完成，你将得到类似于这样的输出：")]),e._v(" "),a("p",[a("img",{attrs:{src:t(319),alt:""}})]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("Note")]),e._v(": 根据操作系统的不同，您将获得BaseSystem或RecoveryImage文件。它们都以相同的方式工作，所以当我们引用BaseSystem时，相同的信息适用于RecoveryImage")])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("macOS 12及以上注释")]),e._v(":由于最近的macOS版本引入了对USB堆栈的更改，建议您在安装macOS之前映射USB端口(使用USBToolBox)。")]),e._v(" "),a("ul",[a("li",[a("span",{staticStyle:{color:"red"}},[e._v(" 警告： ")]),e._v(" 在macOS 11.3及更新版本中，"),a("a",{attrs:{href:"https://github.com/dortania/bugtracker/issues/162",target:"_blank",rel:"noopener noreferrer"}},[e._v("XhciPortLimit被损坏导致启动循环"),a("OutboundLink")],1),e._v("。\n"),a("ul",[a("li",[e._v("如果你已经"),a("a",{attrs:{href:"https://xuanxuan1231.github.io/OpenCore-Post-Install/usb/",target:"_blank",rel:"noopener noreferrer"}},[e._v("映射你的USB端口"),a("OutboundLink")],1),e._v("并禁用"),a("code",[e._v("XhciPortLimit")]),e._v("，你在启动macOS 11.3+时不会出现问题。")])])])])])]),e._v(" "),a("h2",{attrs:{id:"制作安装程序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#制作安装程序"}},[e._v("#")]),e._v(" 制作安装程序")]),e._v(" "),a("p",[e._v("本节的目标是在USB设备中创建必要的分区。你可以使用你最喜欢的程序。"),a("code",[e._v("gdisk``fdisk``parted``gparted")]),e._v("或"),a("code",[e._v("gnome-disks")]),e._v("。本指南将重点介绍"),a("code",[e._v("gdisk")]),e._v("，因为它很好，可以稍后更改分区类型，因为我们需要它，以便macOS Recovery HD可以启动。(这里使用的发行版是Ubuntu 18.04，其他版本或发行版也可以使用)")]),e._v(" "),a("p",[e._v("感谢"),a("a",{attrs:{href:"https://github.com/midi1996",target:"_blank",rel:"noopener noreferrer"}},[e._v("mid 1996"),a("OutboundLink")],1),e._v("在"),a("a",{attrs:{href:"https://midi1996.github.io/hackintosh-internet-install-gitbook/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Internet安装指南"),a("OutboundLink")],1),e._v("指南上所做的工作，这是本文的基础。")]),e._v(" "),a("h3",{attrs:{id:"方法1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法1"}},[e._v("#")]),e._v(" 方法1")]),e._v(" "),a("p",[e._v("在终端:")]),e._v(" "),a("ol",[a("li",[e._v("运行"),a("code",[e._v("lsblk")]),e._v("并确定您的USB设备块\n"),a("img",{attrs:{src:t(433),alt:"lsblk"}})]),e._v(" "),a("li",[e._v("运行"),a("code",[e._v("sudo gdisk /dev/<your USB block>")]),e._v(" "),a("ol",[a("li",[e._v("如果询问使用哪个分区表，请选择GPT。\n"),a("img",{attrs:{src:t(434),alt:"选择GPT"}})]),e._v(" "),a("li",[e._v("输入"),a("code",[e._v("p")]),e._v("来打印块的分区 (并验证它是所需要的)\n"),a("img",{attrs:{src:t(333),alt:""}})]),e._v(" "),a("li",[e._v("输入"),a("code",[e._v("o")]),e._v("来清除分区表并创建一个新的GPT表(如果不是空的)\n"),a("ol",[a("li",[e._v("输入"),a("code",[e._v("y")]),e._v("确认\n"),a("img",{attrs:{src:t(435),alt:""}})])])]),e._v(" "),a("li",[e._v("输入 "),a("code",[e._v("n")]),e._v(" "),a("ol",[a("li",[a("code",[e._v("partition number")]),e._v("：默认为空")]),e._v(" "),a("li",[a("code",[e._v("first sector")]),e._v("：默认为空")]),e._v(" "),a("li",[a("code",[e._v("last sector")]),e._v("：默认为空")]),e._v(" "),a("li",[a("code",[e._v("Hex code or GUID")]),e._v("："),a("code",[e._v("0700")]),e._v("用于Microsoft Basic Data类型")])])]),e._v(" "),a("li",[e._v("输入"),a("code",[e._v("w")]),e._v(" "),a("ul",[a("li",[e._v("输入"),a("code",[e._v("y")]),e._v("确认\n"),a("img",{attrs:{src:t(334),alt:""}})]),e._v(" "),a("li",[e._v("在某些情况下需要重新启动，但很少，如果你想要确保，重新启动你的计算机。你也可以尝试重新插入USB。")])])]),e._v(" "),a("li",[e._v("输入"),a("code",[e._v("q")]),e._v(",关闭"),a("code",[e._v("gdisk")])])])]),e._v(" "),a("li",[e._v("使用' lsblk '来确定分区的标识符")]),e._v(" "),a("li",[e._v("运行"),a("code",[e._v('sudo mkfs.vfat -F 32 -n "OPENCORE" /dev/<your USB partition block>')]),e._v("以将你的USB格式化为FAT32文件系统并命名为"),a("code",[e._v("OPENCORE")]),e._v("。")]),e._v(" "),a("li",[e._v("然后"),a("code",[e._v("cd")]),e._v("到"),a("code",[e._v("/OpenCore/Utilities/macrecovery/")]),e._v("你应该得到一个"),a("code",[e._v(".dmg")]),e._v("和"),a("code",[e._v(".chunklist")]),e._v("文件\n"),a("ol",[a("li",[e._v("使用"),a("code",[e._v("udisksctl")]),e._v("挂载USB分区("),a("code",[e._v("udisksctl mount -b /dev/<your USB partition block>")]),e._v("，大多数情况下不需要sudo)或"),a("code",[e._v("mount")]),e._v("("),a("code",[e._v("sudo mount/ dev/<your USB partition block> /where/your/mount/stuff")]),e._v("，sudo是必需的)")]),e._v(" "),a("li",[a("s",[a("code",[e._v("cd")]),e._v("到你的USB驱动器并在FAT32分区根目录"),a("code",[e._v("mkdir com.apple.recovery.boot")])]),a("br"),e._v("由于acidanthera更新了macrecovery，它现在会自动生成com.apple.recovery文件夹并将BaseSystem或RecoveryImage以及chunklist放入文件夹。你可以直接使用com.apple.recovery文件夹。"),a("strong",[e._v("跳过此步骤")])]),e._v(" "),a("li",[a("s",[e._v("使用"),a("code",[e._v("cp")]),e._v("或"),a("code",[e._v("rsync")]),e._v("将"),a("code",[e._v("BaseSystem.dmg")]),e._v("和"),a("code",[e._v("BaseSystem.chunklist")]),e._v("放入"),a("code",[e._v("com.apple.recovery.boot")]),e._v("文件夹。")]),a("br"),e._v("使用"),a("code",[e._v("cp")]),e._v("或"),a("code",[e._v("rsync")]),e._v("将"),a("code",[e._v("com.apple.recovery.boot")]),e._v("文件夹放入FAT32分区根目录")])])])]),e._v(" "),a("h3",{attrs:{id:"方法二-如果第一种方法不起作用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法二-如果第一种方法不起作用"}},[e._v("#")]),e._v(" 方法二(如果第一种方法不起作用)")]),e._v(" "),a("p",[e._v("在终端:")]),e._v(" "),a("ol",[a("li",[e._v("运行"),a("code",[e._v("lsblk")]),e._v("并确定您的USB设备块\n"),a("img",{attrs:{src:t(436),alt:""}})]),e._v(" "),a("li",[e._v("运行"),a("code",[e._v("sudo gdisk /dev/<your USB block>")]),e._v(" "),a("ol",[a("li",[e._v("如果询问使用哪个分区表，请选择GPT。\n"),a("img",{attrs:{src:t(437),alt:""}})]),e._v(" "),a("li",[e._v("输入"),a("code",[e._v("p")]),e._v("打印块的分区(并验证它是所需要的)\n"),a("img",{attrs:{src:t(333),alt:""}})]),e._v(" "),a("li",[e._v("输入"),a("code",[e._v("o")]),e._v("清除分区表并创建一个新的GPT表(如果不是空的)\n"),a("ol",[a("li",[e._v("输入"),a("code",[e._v("y")]),e._v("确认\n"),a("img",{attrs:{src:t(438),alt:""}})])])]),e._v(" "),a("li",[e._v("输入 "),a("code",[e._v("n")]),e._v(" "),a("ol",[a("li",[a("code",[e._v("partition number")]),e._v("：默认为空")]),e._v(" "),a("li",[a("code",[e._v("first sector")]),e._v("：默认为空")]),e._v(" "),a("li",[a("code",[e._v("last sector")]),e._v("："),a("code",[e._v("+200M")]),e._v("创建一个200MB的分区，稍后在OPENCORE上命名")]),e._v(" "),a("li",[a("code",[e._v("Hex code or GUID")]),e._v("："),a("code",[e._v("0700")]),e._v("用于Microsoft Basic Data类型\n"),a("img",{attrs:{src:t(439),alt:""}})])])]),e._v(" "),a("li",[e._v("输入 "),a("code",[e._v("n")]),e._v(" "),a("ol",[a("li",[a("code",[e._v("partition number")]),e._v("：默认为空")]),e._v(" "),a("li",[a("code",[e._v("first sector")]),e._v("：默认值保持空白")]),e._v(" "),a("li",[a("code",[e._v("last sector")]),e._v("：默认为空 (或者如果你想进一步分区USB的其余部分，你可以把它设为"),a("code",[e._v("+3G")]),e._v(")")]),e._v(" "),a("li",[a("code",[e._v("Hex code or GUID")]),e._v("："),a("code",[e._v("af00")]),e._v("用于Apple HFS/HFS+\n"),a("img",{attrs:{src:t(440),alt:""}})])])]),e._v(" "),a("li",[e._v("输入"),a("code",[e._v("w")]),e._v(" "),a("ul",[a("li",[e._v("输入"),a("code",[e._v("y")]),e._v("确认\n"),a("img",{attrs:{src:t(334),alt:""}})]),e._v(" "),a("li",[e._v("在某些情况下需要重新启动，但很少，如果你想要确保，重新启动你的计算机。你也可以尝试重新插入USB。")])])]),e._v(" "),a("li",[e._v("输入"),a("code",[e._v("q")]),e._v(",关闭"),a("code",[e._v("gdisk")])])])]),e._v(" "),a("li",[e._v("再次使用"),a("code",[e._v("lsblk")]),e._v("来确定200MB的驱动器和其他分区\n"),a("img",{attrs:{src:t(441),alt:""}})]),e._v(" "),a("li",[e._v("运行"),a("code",[e._v('sudo mkfs.vfat -F 32 -n "OPENCORE" /dev/<your USB partition block>')]),e._v("以将你的USB格式化为FAT32文件系统并命名为"),a("code",[e._v("OPENCORE")]),e._v("。")]),e._v(" "),a("li",[e._v("然后"),a("code",[e._v("cd")]),e._v("到"),a("code",[e._v("/OpenCore/Utilities/macrecovery/")]),e._v("你应该得到一个"),a("code",[e._v(".dmg")]),e._v("和"),a("code",[e._v(".chunklist")]),e._v("文件\n"),a("ol",[a("li",[e._v("使用"),a("code",[e._v("udisksctl")]),e._v("挂载USB分区("),a("code",[e._v("udisksctl mount -b /dev/<your USB partition block>")]),e._v("，大多数情况下不需要sudo)或"),a("code",[e._v("mount")]),e._v("("),a("code",[e._v("sudo mount/ dev/<your USB partition block> /where/your/mount/stuff")]),e._v("，sudo是必需的)")]),e._v(" "),a("li",[a("s",[e._v("使用"),a("code",[e._v("cp")]),e._v("或"),a("code",[e._v("rsync")]),e._v("将"),a("code",[e._v("BaseSystem.dmg")]),e._v("和"),a("code",[e._v("BaseSystem.chunklist")]),e._v("放入"),a("code",[e._v("com.apple.recovery.boot")]),e._v("文件夹。")]),a("br"),e._v("使用"),a("code",[e._v("cp")]),e._v("或"),a("code",[e._v("rsync")]),e._v("将"),a("code",[e._v("com.apple.recovery.boot")]),e._v("文件夹放入FAT32分区根目录")]),e._v(" "),a("li",[e._v("下载"),a("code",[e._v("dmg2img")]),e._v("(大多数发行版都有)")]),e._v(" "),a("li",[e._v("运行"),a("code",[e._v("dmg2img -l BaseSystem.dmg")]),e._v("并确定哪个分区具有"),a("code",[e._v("磁盘映像")]),e._v("属性\n"),a("img",{attrs:{src:t(442),alt:""}})]),e._v(" "),a("li",[e._v("运行"),a("code",[e._v("sudo dmg2img -p <the partition number> BaseSystem.dmg /dev/<your 3GB+ partition block>")]),e._v("提取恢复映像并将其写入分区磁盘\n"),a("ul",[a("li",[e._v("这需要一些时间。如果你用的是慢速USB(我用快的USB2.0硬盘花了不到5分钟)。\n"),a("img",{attrs:{src:t(443),alt:""}})])])])])])]),e._v(" "),a("h2",{attrs:{id:"现在-所有这些都完成了-转到设置efi来完成您的工作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#现在-所有这些都完成了-转到设置efi来完成您的工作"}},[e._v("#")]),e._v(" 现在，所有这些都完成了，转到"),a("RouterLink",{attrs:{to:"/installer-guide/opencore-efi.html"}},[e._v("设置EFI")]),e._v("来完成您的工作")],1)])}),[],!1,null,null,null);a.default=r.exports}}]);