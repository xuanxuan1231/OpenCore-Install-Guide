(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{314:function(t,e,v){t.exports=v.p+"assets/img/populated-efi.8d46cc52.png"},462:function(t,e,v){t.exports=v.p+"assets/img/ia32-x64.aa5dccd9.png"},463:function(t,e,v){t.exports=v.p+"assets/img/efi-moved.87262fda.png"},464:function(t,e,v){t.exports=v.p+"assets/img/base-efi.7500e22d.png"},465:function(t,e,v){t.exports=v.p+"assets/img/clean-efi.10fb2a26.png"},621:function(t,e,v){"use strict";v.r(e);var l=v(10),i=Object(l.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"添加基本opencore文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加基本opencore文件"}},[t._v("#")]),t._v(" 添加基本OpenCore文件")]),t._v(" "),e("p",[t._v("要设置OpenCore的文件夹结构，你需要在"),e("a",{attrs:{href:"https://github.com/acidanthera/OpenCorePkg/releases/",target:"_blank",rel:"noopener noreferrer"}},[t._v("OpenCorePkg的发布"),e("OutboundLink")],1),t._v("中找到EFI文件夹。请注意，它们将在IA32或X64文件夹下，前者用于32位固件，后者用于64位固件：")]),t._v(" "),e("p",[e("img",{attrs:{src:v(462),alt:""}})]),t._v(" "),e("p",[t._v("关于DEBUG与RELEASE版本：")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("DEBUG")]),t._v("：可以极大地帮助调试启动问题，但是可能会增加一些明显的启动时间延迟(例如:3-5秒到达拾取器)。安装后，您可以轻松地过渡到RELEASE")]),t._v(" "),e("li",[e("strong",[t._v("RELEASE")]),t._v("：更快的启动时间，但实际上没有提供有用的调试信息，使故障排除更加困难。")])]),t._v(" "),e("p",[t._v("下载后，将EFI文件夹（从OpenCorePkg获取的）放在EFI分区的根目录上：")]),t._v(" "),e("p",[e("img",{attrs:{src:v(463),alt:""}})]),t._v(" "),e("p",[e("strong",[t._v("注意")]),t._v(":")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("Windows用户：")]),t._v(" 您将需要将EFI文件夹放在您之前制作的USB驱动器的根目录上")]),t._v(" "),e("li",[e("strong",[t._v("Linux用户：")]),t._v(" 这是我们之前创建的"),e("code",[t._v("OPENCORE")]),t._v("分区")]),t._v(" "),e("li",[t._v("注意，方法1只创建了1个分区，而方法2创建了2个分区")])]),t._v(" "),e("p",[t._v("现在让我们打开我们的EFI文件夹，看看里面是什么：")]),t._v(" "),e("p",[e("img",{attrs:{src:v(464),alt:"根EFI文件夹"}})]),t._v(" "),e("p",[t._v("现在你会注意到它附带了一堆文件在"),e("code",[t._v("Drivers")]),t._v("和"),e("code",[t._v("Tools")]),t._v("文件夹中，我们不需要其中的大多数：")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("从Drivers文件夹保留以下文件")]),t._v("（如果兼容）：")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Driver")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("状态")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("OpenUsbKbDxe.efi")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"},attrs:{rowspan:"3"}},[e("span",{staticStyle:{color:"#30BCD5"}},[t._v(" 可选 ")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("非EFI系统需要（2012以前）")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("OpenPartitionDxe.efi")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("启动macOS 10.7-10.9恢复所需")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("ResetNvramEntry.efi")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("重置系统的NVRAM时需要")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("OpenRuntime.efi")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("span",{staticStyle:{color:"red"}},[t._v(" 必需 ")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("正常操作所需")])])])]),t._v(" "),e("details",{staticClass:"custom-block details"},[e("summary",[t._v("提供的Drivers的更多信息")]),t._v(" "),e("ul",[e("li",[t._v("AudioDxe.efi\n"),e("ul",[e("li",[t._v("与macOS中的音频支持无关")])])]),t._v(" "),e("li",[t._v("CrScreenshotDxe.efi\n"),e("ul",[e("li",[t._v("用于在UEFI中创建快照，我们不需要")])])]),t._v(" "),e("li",[t._v("HiiDatabase.efi\n"),e("ul",[e("li",[t._v("用于修复GUI支持，如OpenShell。适用于Sandy Bridge和更老的系统")]),t._v(" "),e("li",[t._v("启动时不需要")])])]),t._v(" "),e("li",[t._v("NvmExpressDxe.efi\n"),e("ul",[e("li",[t._v("用于Haswell和旧版本，当固件中没有内置NVMe驱动程序时")]),t._v(" "),e("li",[t._v("不要使用，除非你知道你在做什么")])])]),t._v(" "),e("li",[t._v("OpenCanopy.efi\n"),e("ul",[e("li",[t._v("这是OpenCore的可选GUI，我们将在"),e("a",{attrs:{href:"https://xuanxuan1231.github.io/OpenCore-Post-Install/cosmetic/gui.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("安装后"),e("OutboundLink")],1),t._v("中设置它，所以现在删除它")])])]),t._v(" "),e("li",[t._v("OpenHfsPlus.efi\n"),e("ul",[e("li",[t._v("开源的HFS Plus驱动程序，相当慢，所以我们建议不要使用，除非你知道你在做什么。")])])]),t._v(" "),e("li",[t._v("OpenPartitionDxe.efi\n"),e("ul",[e("li",[t._v("在启动OS X 10.7到10.9的恢复时需要\n"),e("ul",[e("li",[t._v("注:OpenDuet用户（即没有UEFI）将内置这个驱动程序，不需要它")])])])])]),t._v(" "),e("li",[t._v("OpenUsbKbDxe.efi\n"),e("ul",[e("li",[t._v("用于"),e("strong",[t._v("运行DuetPkg的旧系统")]),t._v("上的OpenCore启动器，"),e("a",{attrs:{href:"https://applelife.ru/threads/opencore-obsuzhdenie-i-ustanovka.2944066/page-176#post-856653",target:"_blank",rel:"noopener noreferrer"}},[t._v("不推荐，在Ivy Bridge和更新的系统上甚至有害"),e("OutboundLink")],1)])])]),t._v(" "),e("li",[t._v("Ps2KeyboardDxe.efi + Ps2MouseDxe.efi\n"),e("ul",[e("li",[t._v("很明显，当你需要它时，USB键盘和鼠标用户不需要它")]),t._v(" "),e("li",[t._v("提示：PS2 ≠ USB")])])]),t._v(" "),e("li",[t._v("ResetNvramEntry.efi\n"),e("ul",[e("li",[t._v("允许从引导选择器中重置NVRAM")])])]),t._v(" "),e("li",[t._v("UsbMouseDxe.efi\n"),e("ul",[e("li",[t._v("类似于OpenUsbKbDxe的想法，应该只需要在使用DuetPkg的遗留系统上")])])]),t._v(" "),e("li",[t._v("XhciDxe.efi\n"),e("ul",[e("li",[t._v("用于Sandy Bridge和旧版本，当固件中没有内置XHCI驱动程序时")]),t._v(" "),e("li",[t._v("只有当你在旧机器上使用USB 3.0扩展卡时才需要")])])])])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("从Tools文件夹保留以下文件：")])])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Tool")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("状态")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("解释")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("OpenShell.efi")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("span",{staticStyle:{color:"#30BCD5"}},[t._v(" 可选 ")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("推荐：更容易调试")])])])]),t._v(" "),e("p",[t._v("整理后的EFI：")]),t._v(" "),e("p",[e("img",{attrs:{src:v(465),alt:"清洁EFI"}})]),t._v(" "),e("p",[t._v("现在你可以把你需要的固件驱动程序(.efi)放到 "),e("em",[t._v("Drivers")]),t._v(" 文件夹中，把Kext/ACPI放到它们各自的文件夹中。有关应该使用哪些文件的更多信息，请参阅"),e("RouterLink",{attrs:{to:"/ktext.html"}},[t._v("收集文件")]),t._v("。")],1),t._v(" "),e("ul",[e("li",[t._v("请注意，来自Clover的UEFI驱动程序不支持OpenCore！（EmuVariableUEFI, aptiommemoryfix, OsxAptioFixDrv等）。有关支持的驱动程序和合并到OpenCore中的驱动程序的更多信息，请参阅"),e("a",{attrs:{href:"https://github.com/xuanxuan1231/OpenCore-Install-Guide/blob/master/clover-conversion/clover-efi.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("Clover固件驱动程序转换"),e("OutboundLink")],1),t._v("。")])]),t._v(" "),e("p",[t._v("下面是一个被填充的EFI **"),e("em",[t._v("可以")]),t._v("**的样子（你的会有所不同）：")]),t._v(" "),e("p",[e("img",{attrs:{src:v(314),alt:"已填充的EFI文件夹"}})]),t._v(" "),e("p",[e("strong",[t._v("提示")]),t._v(":")]),t._v(" "),e("ul",[e("li",[t._v("SSDT和自定义DSDT（"),e("code",[t._v(".aml")]),t._v("）放在ACPI文件夹中")]),t._v(" "),e("li",[t._v("Kext（"),e("code",[t._v(".kext")]),t._v("）放在Kexts文件夹中")]),t._v(" "),e("li",[t._v("固件驱动程序（"),e("code",[t._v(".efi")]),t._v("放在Drivers文件夹中")])]),t._v(" "),e("h1",{attrs:{id:"现在所有这些都完成了-前往收集文件获取所需的kext和固件驱动程序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#现在所有这些都完成了-前往收集文件获取所需的kext和固件驱动程序"}},[t._v("#")]),t._v(" 现在所有这些都完成了，前往"),e("RouterLink",{attrs:{to:"/ktext.html"}},[t._v("收集文件")]),t._v("获取所需的kext和固件驱动程序")],1)])}),[],!1,null,null,null);e.default=i.exports}}]);